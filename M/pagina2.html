<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reisgedrag Schatting</title>
    <!-- Bootstrap CSS toevoegen -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        .navbar {
            background-color: #ffffff;
            border: 1px solid #ced4da;
            margin-bottom: 10px;
        }
        .container {
            display: flex; /* Gebruik flexbox voor naast elkaar plaatsen */
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 0px;       
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .input-container {
            width: 50%; /* Breedte voor de invoervelden */
            padding-right: 20px; /* Ruimte tussen de invoervelden en de tabel */
        }
        .form-group {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .form-group label {
            flex: 1;
            margin-right: 10px;
            font-weight: bold;
        }
        .form-group input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .button-container {
            margin-top: 20px;
            text-align: center; /* Centrer de knop */
        }
        button {
            padding: 8px 12px; /* Maak de knop kleiner */
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 14px; /* Kleinere tekst */
            cursor: pointer;
            width: 100%; /* Zorg ervoor dat de knop de breedte gebruikt */
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            width: 50%; /* Breedte voor de tabel */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ced4da;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f1f1f1;
        }
        .highest-probability {
            background-color: #2ecc71; /* Groen voor de hoogste waarde */
            color: #fff; /* Wit voor de tekst */
        }
    </style>
</head>
<body>

    <!-- Bootstrap Navigatiemenu -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">Introductie</a></li>
                <li class="nav-item"><a class="nav-link" href="pagina3.html">Autobezit & Afstand treinstations</a></li>
                <li class="nav-item"><a class="nav-link" href="pagina2.html">Schatting Reisgedrag</a></li>
                <li class="nav-item"><a class="nav-link" href="pagina4.html">Reisgedrag & BE cluster</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="input-container">
            <h2>Voer gegevens in:</h2>

            <div class="form-group">
                <label for="age">Leeftijd (Age):</label>
                <input type="number" id="age" value="40">
            </div>

            <div class="form-group">
                <label for="hh">Huishoudgrootte (HHsize):</label>
                <input type="number" id="hh" value="1">
            </div>

            <div class="form-group">
                <label for="hhauto">Aantal auto's in huishouden (HHAuto):</label>
                <input type="number" id="hhauto" value="0">
            </div>

            <div class="form-group">
                <label for="income">Inkomen klasse (Income Class):</label>
                <input type="number" id="income" value="2">
            </div>

            <div class="button-container">
                <button onclick="berekenProbabiliteiten()">Bereken</button>
            </div>
        </div>

        <div class="result" id="result">
            <h3>Kans op clusterlidmaatschap:</h3>
            <table id="resultTable" class="table table-bordered">
                <thead>
                    <tr>
                        <th>Cluster</th>
                        <th>Kans (%)</th>
                    </tr>
                </thead>
                <tbody id="resultBody">
                    <!-- Resultaten worden hier toegevoegd -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Tweede container voor de tweede berekening -->
    <div class="container">
        <div class="input-container">
            <h2>Voer gegevens in:</h2>

            <div class="form-group">
                <label for="carown">Aantal auto's (carown):</label>
                <input type="number" id="carown" value="0.8" step="0.01">
            </div>

            <div class="form-group">
                <label for="treinstationkm">Afstand tot treinstation (treinstationkm):</label>
                <input type="number" id="treinstationkm" value="1" step="0.01">
            </div>

            <div class="form-group">
                <label for="score">Nabijheids score:</label>
                <input type="number" id="score" value="250">
            </div>

            <div class="button-container">
                <button onclick="berekenTweedeProbabiliteiten()">Bereken</button>
            </div>
        </div>

        <div class="result" id="result2">
            <h3>Kans op clusterlidmaatschap:</h3>
            <table id="resultTable2" class="table table-bordered">
                <thead>
                    <tr>
                        <th>Cluster</th>
                        <th>Kans (%)</th>
                    </tr>
                </thead>
                <tbody id="resultBody2">
                    <!-- Resultaten worden hier toegevoegd -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Bootstrap en jQuery scripts toevoegen -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script>
        function berekenProbabiliteiten() {
            // Coëfficiënten voor de verschillende klassen
            let intercept = [0.8827, -0.5513, -0.5258, -0.2928, 0.9192, 0.0545, -0.4866];
            let ageCoef = [-0.0007, 0.0133, 0.0071, 0.0233, -0.0165, -0.0115, -0.015];
            let hhCoef = [0.1301, -0.0847, 0.0185, 0.167, -0.0982, 0.0229, -0.1556];
            let hhautoCoef = [-0.1639, 0.6903, 0.5169, 0.0722, -0.6921, -0.6642, 0.2409];
            let incomeCoef = [-0.0075, 0.0265, 0.0424, -0.1229, 0.0287, 0.0076, 0.0251];

            // Klassen labels
            let classes = [
                "active", "car", "car+active",
                "No trip", "train + active", "PT only", "Mix"
            ];

            // Input waarden
            let age = parseFloat(document.getElementById("age").value);
            let hh = parseFloat(document.getElementById("hh").value);
            let hhauto = parseFloat(document.getElementById("hhauto").value);
            let income = parseFloat(document.getElementById("income").value);

            // Bereken de utility waarden
            let utilities = [];
            for (let i = 0; i < intercept.length; i++) {
                let utility = intercept[i] + ageCoef[i] * age + hhCoef[i] * hh + hhautoCoef[i] * hhauto + incomeCoef[i] * income;
                utilities.push(utility);
            }

            // Bereken de exponenten en som van exponenten
            let expUtilities = utilities.map(Math.exp);
            let sumExpUtilities = expUtilities.reduce((a, b) => a + b, 0);

            // Bereken de probabiliteiten
            let probabilities = expUtilities.map(function (expUtil) {
                return expUtil / sumExpUtilities;
            });

            // Vind de index van de hoogste waarde
            let highestIndex = probabilities.indexOf(Math.max(...probabilities));

            // Toon de resultaten in de tabel
            let resultBody = document.getElementById("resultBody");
            resultBody.innerHTML = ""; // Maak de tabel leeg
            probabilities.forEach(function (prob, index) {
                let rowClass = index === highestIndex ? "highest-probability" : ""; // Voeg klasse toe voor de hoogste waarde
                let row = `<tr class="${rowClass}">
                    <td>${classes[index]}</td>
                    <td>${(prob * 100).toFixed(2)}%</td>
                </tr>`;
                resultBody.innerHTML += row; // Voeg rijen toe aan de tabel
            });
        }

        function berekenTweedeProbabiliteiten() {
            // Coëfficiënten voor de tweede berekening
            let intercept = [0.5557, 0.1719, -0.1076, 0.8076, 0.6337, -0.9938, -1.0674];
            let carownCoef = [0.2543, 1.0921, 1.0843, -0.1818, -1.7827, -0.4164, -0.0498];
            let treinstationkmCoef = [-0.0014, 0.0075, 0.0043, 0.0161, -0.0032, -0.0087, -0.0145];
            let scoreCoef = [0.0012, -0.0029, -0.0012, -0.0019, 0.0016, 0.0027, 0.0004];

            // Klassen labels voor de tweede berekening
            let classes = [
                "active", "car", "car+active",
                "No trip", "train + active", "PT only", "Mix"
            ];

            // Input waarden voor de tweede berekening
            let carown = parseFloat(document.getElementById("carown").value);
            let treinstationkm = parseFloat(document.getElementById("treinstationkm").value);
            let score = parseFloat(document.getElementById("score").value);

            // Bereken de utility waarden voor de clusters
            let utilities = [];
            for (let i = 0; i < intercept.length; i++) {
                let utility = intercept[i] + carownCoef[i] * carown + treinstationkmCoef[i] * treinstationkm + scoreCoef[i] * score;
                utilities.push(utility);
            }

            // Bereken de exponenten en som van exponenten
            let expUtilities = utilities.map(Math.exp);
            let sumExpUtilities = expUtilities.reduce((a, b) => a + b, 0);

            // Bereken de probabiliteiten
            let probabilities = expUtilities.map(function (expUtil) {
                return expUtil / sumExpUtilities;
            });

            // Vind de index van de hoogste utility waarde
            let highestUtilityIndex = utilities.indexOf(Math.max(...utilities));

            // Toon de resultaten in de tabel
            let resultBody2 = document.getElementById("resultBody2");
            resultBody2.innerHTML = ""; // Maak de tabel leeg
            probabilities.forEach(function (prob, index) {
                let rowClass = index === highestUtilityIndex ? "highest-probability" : ""; // Voeg klasse toe voor de hoogste utility waarde
                let row = `<tr class="${rowClass}">
                    <td>${classes[index]}</td>
                    <td>${(prob * 100).toFixed(2)}%</td>
                </tr>`;
                resultBody2.innerHTML += row; // Voeg rijen toe aan de tabel
            });
        }

        function resetInputs() {
            // Reset de invoervelden
            document.getElementById("age").value = 40;
            document.getElementById("hh").value = 1;
            document.getElementById("hhauto").value = 0;
            document.getElementById("income").value = 2;

            document.getElementById("carown").value = 0.8;
            document.getElementById("treinstationkm").value = 1;
            document.getElementById("score").value = 250;
        }

        function showHelp() {
            alert("Dit is een hulpfunctie. Vul de gegevens in en druk op 'Bereken' om de probabiliteiten te berekenen.");
        }

        function exportData() {
            alert("Exporteer gegevens functie is nog niet geïmplementeerd.");
        }
    </script>

</body>
</html>
